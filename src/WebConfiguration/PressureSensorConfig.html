<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Page</title>
<meta name="generator" content="WYSIWYG Web Builder 17 - http://www.wysiwygwebbuilder.com">
<style>
body
{
   background-color: #FFFFFF;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-size: 13px;
   line-height: 1.1875;
   margin: 0;
   padding: 0;
}
a
{
   color: #0000FF;
   text-decoration: underline;
}
a:visited
{
   color: #800080;
}
a:active
{
   color: #FF0000;
}
a:hover
{
   color: #0000FF;
   text-decoration: underline;
}
input:focus, textarea:focus, select:focus
{
   outline: none;
}
#wb_Form2
{
   background-color: #808080;
   background-image: none;
   border: 1px solid #4F4F4F;
   border-radius: 0px;
}
#wb_Text24 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #DCDCDC;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: left;
}
#wb_Text24 div
{
   text-align: left;
}
#wb_Text30 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: center;
}
#wb_Text30 div
{
   text-align: center;
}
#wb_Form1
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #CCCCCC;
   border-radius: 0px;
}
#wb_Text61 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: left;
}
#wb_Text61 div
{
   text-align: left;
}
#Editbox44
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 16px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#Editbox44:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#wb_Text62 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text62 div
{
   text-align: right;
}
#wb_Text63 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text63 div
{
   text-align: right;
}
#Editbox45
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#Editbox45:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#wb_Text64 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text64 div
{
   text-align: right;
}
#Editbox46
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#Editbox46:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#Editbox47
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#Editbox47:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#wb_Text65 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text65 div
{
   text-align: right;
}
#btnSave
{
   border: 1px solid #2E6DA4;
   border-radius: 4px;
   background-color: #3370B7;
   background-image: none;
   color: #FFFFFF;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   padding: 0;
   text-align: center;
   -webkit-appearance: none;
   margin: 0;
}
#Button2
{
   border: 1px solid #2E6DA4;
   border-radius: 4px;
   background-color: #3370B7;
   background-image: none;
   color: #FFFFFF;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   padding: 0;
   text-align: center;
   -webkit-appearance: none;
   margin: 0;
}
#edt_burdenRes
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#edt_burdenRes:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#wb_Text1 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text1 div
{
   text-align: right;
}
#wb_Text2 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: left;
}
#wb_Text2 div
{
   text-align: left;
}
#wb_Text3 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: center;
}
#wb_Text3 div
{
   text-align: center;
}
#wb_Text4 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: left;
}
#wb_Text4 div
{
   text-align: left;
}
#wb_Text5 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: left;
}
#wb_Text5 div
{
   text-align: left;
}
#maSHC_edt
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#maSHC_edt:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#Button1
{
   border: 1px solid #2E6DA4;
   border-radius: 4px;
   background-color: #3370B7;
   background-image: none;
   color: #FFFFFF;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   padding: 1px 6px 1px 6px;
   text-align: center;
   -webkit-appearance: none;
   margin: 0;
}
#Voltage_edt
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#Voltage_edt:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
#wb_Text7 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text7 div
{
   text-align: right;
}
#wb_Text8 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text8 div
{
   text-align: right;
}
#wb_Text9 
{
   background-color: transparent;
   background-image: none;
   border: 0px solid #000000;
   border-radius: 0px;
   padding: 0;
   margin: 0;
   text-align: right;
}
#wb_Text9 div
{
   text-align: right;
}
#Editbox1
{
   border: 1px solid #CCCCCC;
   border-radius: 4px;
   background-color: #FFFFFF;
   background-image: none;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-style: normal;
   font-size: 13px;
   line-height: 18px;
   padding: 4px 4px 4px 4px;
   margin: 0;
   text-align: left;
}
#Editbox1:focus
{
   border-color: #66AFE9;
   box-shadow: inset 0px 1px 1px rgba(0,0,0,0.075), 0px 0px 8px rgba(102,175,233,0.60);
   outline: 0;
}
</style>
    

</head>
<body>
<div id="wb_Form2" style="position:absolute;left:43px;top:18px;width:464px;height:93px;z-index:23;">
<form name="Getimerform" method="get" action="Timer1" enctype="text/plain" id="Form2">
<div id="wb_Text30" style="position:absolute;left:56px;top:51px;width:325px;height:15px;text-align:center;z-index:0;">
<span style="color:#DCDCDC;font-family:Arial;font-size:13px;">System time: %systemtime%</span></div>
</form>
</div>
<div id="wb_Text24" style="position:absolute;left:43px;top:28px;width:466px;height:27px;z-index:24;">
<span style="color:#F5F5F5;font-family:Arial;font-size:24px;">Pressure Sensor Configuration</span></div>
<div id="wb_Form1" style="position:absolute;left:43px;top:113px;width:466px;height:587px;z-index:25;">
<form name="Form1" method="get" action="PressureSensorSave.html" enctype="text/plain" id="Form1" onsubmit="return submitForm1()">
<div id="wb_Text62" style="position:absolute;left:35px;top:70px;width:82px;height:15px;text-align:right;z-index:1;">
<span style="color:#000000;font-family:Arial;font-size:13px;"> Sensor Topic</span></div>
<div id="wb_Text64" style="position:absolute;left:56px;top:179px;width:134px;height:15px;text-align:right;z-index:2;">
<span style="color:#000000;font-family:Arial;font-size:13px;">4 ma&nbsp; callibration</span></div>
<input type="number" id="Editbox45" style="position:absolute;left:254px;top:102px;width:54px;height:18px;z-index:3;" name="maSHL" value="%maSHL%" spellcheck="false" title="0 - 100 Amps">
<input type="number" id="Editbox46" style="position:absolute;left:201px;top:172px;width:54px;height:18px;z-index:4;" name="maSLC" value="%maSLC%" spellcheck="false">
<div id="wb_Text61" style="position:absolute;left:35px;top:26px;width:270px;height:21px;z-index:5;">
<span style="color:#000000;font-family:Arial;font-size:19px;"><strong>04-20 ma Sensor</strong></span></div>
<div id="wb_Text65" style="position:absolute;left:43px;top:212px;width:147px;height:15px;text-align:right;z-index:6;">
<span style="color:#000000;font-family:Arial;font-size:13px;">20 ma callibration</span></div>
<input type="text" id="Editbox44" style="position:absolute;left:133px;top:64px;width:306px;height:16px;z-index:7;" name="maSTopic" value="%maSTopic%" spellcheck="false">
<input type="number" id="Editbox47" style="position:absolute;left:201px;top:205px;width:54px;height:18px;z-index:8;" name="maSHC" value="%maSHC%" spellcheck="false">
<input type="button" id="Button2" onclick="window.location.href='/';return false;" name="Cancelbtn" value="Cancel" style="position:absolute;left:26px;top:544px;width:90px;height:25px;z-index:9;">
<input type="submit" id="btnSave" name="TimerSave" value="Save" style="position:absolute;left:353px;top:544px;width:79px;height:25px;z-index:10;">
<input type="number" id="edt_burdenRes" style="position:absolute;left:176px;top:342px;width:54px;height:18px;z-index:11;" name="maBurdenResistor" value="%maBurdenResistor%" spellcheck="false">
<div id="wb_Text1" style="position:absolute;left:26px;top:349px;width:144px;height:15px;text-align:right;z-index:12;">
<span style="color:#000000;font-family:Arial;font-size:13px;">Burden Resistor Value</span></div>
<div id="wb_Text2" style="position:absolute;left:250px;top:349px;width:43px;height:15px;z-index:13;">
<span style="color:#000000;font-family:Arial;font-size:13px;">ohms</span></div>
<div id="wb_Text3" style="position:absolute;left:13px;top:406px;width:262px;height:15px;text-align:center;z-index:14;">
<span style="color:#FF0000;font-family:Arial;font-size:13px;"><strong>Current ADC Steps&nbsp; =&nbsp; %ma_ADC%</strong></span></div>
<div id="wb_Text4" style="position:absolute;left:270px;top:179px;width:179px;height:15px;z-index:15;">
<span style="color:#000000;font-family:Arial;font-size:13px;">= ADC reading at 4 ma</span></div>
<input type="number" id="maSHC_edt" onclick="calc20maCalibration(this);return false;" style="position:absolute;left:329px;top:470px;width:82px;height:18px;z-index:16;" name="maSHC_edt" value="" disabled spellcheck="false">
<input type="button" id="Button1" onclick="calc20maCalibration(this);return false;" name="" value="Calculate 20ma calibration factor" style="position:absolute;left:35px;top:438px;width:230px;height:24px;z-index:17;">
<div id="wb_Text5" style="position:absolute;left:16px;top:251px;width:433px;height:45px;z-index:18;">
<span style="color:#000000;font-family:Arial;font-size:13px;">This is ADC reading calibration at 20 ma, defaults to: <br><strong>0.02 * BurdenResistor * 1000 * (4096 / 3300) * (2450 / 3000).</strong><br>ADC_ATTEN_DB_11: Reading range:150 mV ~ <strong>2450 </strong>mV</span></div>
<input type="number" id="Voltage_edt" onclick="calc20maCalibration(this);return false;" style="position:absolute;left:150px;top:470px;width:54px;height:18px;z-index:19;" name="Voltage_edt" value="3300" spellcheck="false">
<div id="wb_Text7" style="position:absolute;left:16px;top:477px;width:126px;height:15px;text-align:right;z-index:20;">
<span style="color:#000000;font-family:Arial;font-size:13px;">System voltage (mv)</span></div>
<div id="wb_Text8" style="position:absolute;left:201px;top:477px;width:115px;height:15px;text-align:right;z-index:21;">
<span style="color:#000000;font-family:Arial;font-size:13px;">Result</span></div>
<input type="number" id="Editbox1" style="position:absolute;left:254px;top:133px;width:54px;height:18px;z-index:22;" name="TankHeight" value="%TankHeight%" spellcheck="false">
</form>
</div>
<div id="wb_Text63" style="position:absolute;left:0px;top:222px;width:286px;height:15px;text-align:right;z-index:26;">
<span style="color:#000000;font-family:Arial;font-size:13px;">maximum sensor measurment (cm)</span></div>

<div id="wb_Text9" style="position:absolute;left:0px;top:253px;width:286px;height:15px;text-align:right;z-index:28;">
<span style="color:#000000;font-family:Arial;font-size:13px;">Tank height (cm)</span></div>
<script>
function submitForm1()
{
   var regexp;
   var Editbox45 = document.getElementById('Editbox45');
   if (!(Editbox45.disabled || Editbox45.style.display === 'none' || Editbox45.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(Editbox45.value))
      {
         alert("Please enter only digit characters in the \"maSHL\" field.");
         Editbox45.focus();
         return false;
      }
      if (Editbox45.value == "")
      {
         alert("Please enter a value for the \"maSHL\" field.");
         Editbox45.focus();
         return false;
      }
      if (Editbox45.value != "" && !(Editbox45.value >= 0 && Editbox45.value <= 500))
      {
         alert("Please enter a value greater than or equal to \"0\" and less than or equal to \"500\" in the \"maSHL\" field.");
         Editbox45.focus();
         return false;
      }
   }
   var Editbox46 = document.getElementById('Editbox46');
   if (!(Editbox46.disabled || Editbox46.style.display === 'none' || Editbox46.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(Editbox46.value))
      {
         alert("Calibration factor");
         Editbox46.focus();
         return false;
      }
      if (Editbox46.value == "")
      {
         alert("Calibration factor");
         Editbox46.focus();
         return false;
      }
      if (Editbox46.value != "" && !(Editbox46.value > 0 && Editbox46.value <= 4096))
      {
         alert("Calibration factor");
         Editbox46.focus();
         return false;
      }
   }
   var Editbox47 = document.getElementById('Editbox47');
   if (!(Editbox47.disabled || Editbox47.style.display === 'none' || Editbox47.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(Editbox47.value))
      {
         alert("Calibration factor");
         Editbox47.focus();
         return false;
      }
      if (Editbox47.value == "")
      {
         alert("Calibration factor");
         Editbox47.focus();
         return false;
      }
      if (Editbox47.value != "" && !(Editbox47.value > 5 && Editbox47.value <= 5000))
      {
         alert("Calibration factor");
         Editbox47.focus();
         return false;
      }
   }
   var edt_burdenRes = document.getElementById('edt_burdenRes');
   if (!(edt_burdenRes.disabled || edt_burdenRes.style.display === 'none' || edt_burdenRes.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(edt_burdenRes.value))
      {
         alert("Calibration factor");
         edt_burdenRes.focus();
         return false;
      }
      if (edt_burdenRes.value == "")
      {
         alert("Calibration factor");
         edt_burdenRes.focus();
         return false;
      }
      if (edt_burdenRes.value != "" && !(edt_burdenRes.value > 5 && edt_burdenRes.value <= 5000))
      {
         alert("Calibration factor");
         edt_burdenRes.focus();
         return false;
      }
   }
   var maSHC_edt = document.getElementById('maSHC_edt');
   if (!(maSHC_edt.disabled || maSHC_edt.style.display === 'none' || maSHC_edt.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(maSHC_edt.value))
      {
         alert("Calibration factor");
         maSHC_edt.focus();
         return false;
      }
      if (maSHC_edt.value == "")
      {
         alert("Calibration factor");
         maSHC_edt.focus();
         return false;
      }
      if (maSHC_edt.value != "" && !(maSHC_edt.value > 5 && maSHC_edt.value <= 5000))
      {
         alert("Calibration factor");
         maSHC_edt.focus();
         return false;
      }
   }
   var Voltage_edt = document.getElementById('Voltage_edt');
   if (!(Voltage_edt.disabled || Voltage_edt.style.display === 'none' || Voltage_edt.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(Voltage_edt.value))
      {
         alert("Calibration factor");
         Voltage_edt.focus();
         return false;
      }
      if (Voltage_edt.value == "")
      {
         alert("Calibration factor");
         Voltage_edt.focus();
         return false;
      }
   }
   var Editbox1 = document.getElementById('Editbox1');
   if (!(Editbox1.disabled || Editbox1.style.display === 'none' || Editbox1.style.visibility === 'hidden'))
   {
      regexp = /^[-+]?\d*\.?\d*$/;
      if (!regexp.test(Editbox1.value))
      {
         alert("Please enter only digit characters in the \"TankHeight\" field.");
         Editbox1.focus();
         return false;
      }
      if (Editbox1.value == "")
      {
         alert("Please enter a value for the \"TankHeight\" field.");
         Editbox1.focus();
         return false;
      }
      if (Editbox1.value != "" && !(Editbox1.value >= 0 && Editbox1.value <= 500))
      {
         alert("Please enter a value greater than or equal to \"0\" and less than or equal to \"500\" in the \"TankHeight\" field.");
         Editbox1.focus();
         return false;
      }
   }
   return true;
}
</script>
<script>
      function calc20maCalibration(selectObject) {
         var x = document.getElementById("edt_burdenRes").value;
         var v = document.getElementById("Voltage_edt").value;
         document.getElementById("maSHC_edt").value =(0.02*x*1000*4096/v)*2450/v ; 
      }
    </script>
</body>
</html>